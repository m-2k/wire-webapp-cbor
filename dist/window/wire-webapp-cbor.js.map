{"version":3,"sources":["webpack:///webpack/bootstrap 848b49027cef748dd0ad","webpack:///./src/cbor/Types.js","webpack:///./src/cbor/BaseError.js","webpack:///./src/cbor/DecodeError.js","webpack:///./src/cbor/Decoder.js","webpack:///./src/cbor/Encoder.js","webpack:///./src/cbor.js"],"names":[],"mappings":";;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,OAAO;AACpB,sBAAsB,UAAU;;AAEhC,aAAa,OAAO;AACpB,qBAAqB,UAAU;;AAE/B,aAAa,OAAO;AACpB,sBAAsB,UAAU;;AAEhC,aAAa,OAAO;AACpB,sBAAsB,SAAS;;AAE/B,aAAa,OAAO;AACpB,wBAAwB,UAAU;;AAElC,aAAa,OAAO;AACpB,wBAAwB,UAAU;;AAElC,aAAa,OAAO;AACpB,wBAAwB,UAAU;;AAElC,aAAa,OAAO;AACpB,sBAAsB,UAAU;;AAEhC,aAAa,OAAO;AACpB,uBAAuB,UAAU;;AAEjC,aAAa,OAAO;AACpB,uBAAuB,WAAW;;AAElC,aAAa,OAAO;AACpB,uBAAuB,WAAW;;AAElC,aAAa,OAAO;AACpB,qBAAqB,WAAW;;AAEhC,aAAa,OAAO;AACpB,sBAAsB,WAAW;;AAEjC,aAAa,OAAO;AACpB,sBAAsB,WAAW;;AAEjC,aAAa,OAAO;AACpB,sBAAsB,WAAW;;AAEjC,aAAa,OAAO;AACpB,qBAAqB,WAAW;;AAEhC,aAAa,OAAO;AACpB,uBAAuB,WAAW;;AAElC,aAAa,OAAO;AACpB,uBAAuB,WAAW;;AAElC,aAAa,OAAO;AACpB,qBAAqB,WAAW;;AAEhC,aAAa,OAAO;AACpB,0BAA0B,WAAW;;AAErC;AACA,aAAa,OAAO;AACpB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AC1HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;;;;;;;;ACtCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAa,OAAO;AACpB,8BAA8B,uBAAuB;;AAErD,aAAa,OAAO;AACpB,gCAAgC,mCAAmC;;AAEnE,aAAa,OAAO;AACpB,iCAAiC,0BAA0B;;AAE3D,aAAa,OAAO;AACpB,8BAA8B,2BAA2B;;AAEzD,aAAa,OAAO;AACpB,0BAA0B,yBAAyB;;AAEnD,aAAa,OAAO;AACpB,4BAA4B,iCAAiC;AAC7D;;AAEA;;;;;;;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,aAAa,iBAAiB;AAC9B,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa,wBAAwB;AACrC,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa,MAAM;AACnB,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,aAAa,EAAE;AACf,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA,gBAAgB,OAAO;AACvB;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa,iBAAiB;AAC9B,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,aAAa,EAAE;AACf,eAAe;AACf;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;;AAEA;;;;;;;;AChrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB,YAAY;AAC5B;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA,0CAA0C,QAAQ;AAClD;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,aAAa,iBAAiB;AAC9B,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,MAAM;AACnB,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,YAAY;AACzB,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA,aAAa,0BAA0B;AACvC,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,KAAK;AACrB;AACA;AACA;;AAEA,gBAAgB,KAAK;AACrB;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;;AAEA,gBAAgB,KAAK;AACrB;AACA;AACA;;AAEA,gBAAgB,KAAK;AACrB;AACA;AACA;;AAEA;AACA,aAAa,QAAQ;AACrB,eAAe;AACf;AACA;AACA;AACA;;AAEA,gBAAgB,KAAK;AACrB;AACA;AACA;;AAEA,gBAAgB,KAAK;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;ACpeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"wire-webapp-cbor.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 848b49027cef748dd0ad","/*\n * Wire\n * Copyright (C) 2016 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\n\n'use strict';\n\n/**\n * @class Types\n * @throws Error\n */\nclass Types {\n  constructor() {\n    throw new Error('Can\\'t create instance of singleton');\n  }\n\n  /** @type {number} */\n  static get ARRAY() { return 1; }\n\n  /** @type {number} */\n  static get BOOL() { return 2; }\n\n  /** @type {number} */\n  static get BREAK() { return 3; }\n\n  /** @type {number} */\n  static get BYTES() {return 4; }\n\n  /** @type {number} */\n  static get FLOAT16() { return 5; }\n\n  /** @type {number} */\n  static get FLOAT32() { return 6; }\n\n  /** @type {number} */\n  static get FLOAT64() { return 7; }\n\n  /** @type {number} */\n  static get UINT8() { return 8; }\n\n  /** @type {number} */\n  static get UINT16() { return 9; }\n\n  /** @type {number} */\n  static get UINT32() { return 10; }\n\n  /** @type {number} */\n  static get UINT64() { return 11; }\n\n  /** @type {number} */\n  static get INT8() { return 12; }\n\n  /** @type {number} */\n  static get INT16() { return 13; }\n\n  /** @type {number} */\n  static get INT32() { return 14; }\n\n  /** @type {number} */\n  static get INT64() { return 15; }\n\n  /** @type {number} */\n  static get NULL() { return 16; }\n\n  /** @type {number} */\n  static get OBJECT() { return 17; }\n\n  /** @type {number} */\n  static get TAGGED() { return 18; }\n\n  /** @type {number} */\n  static get TEXT() { return 19; }\n\n  /** @type {number} */\n  static get UNDEFINED() { return 20; }\n\n  /**\n   * @param {!Types} t\n   * @returns {number}\n   * @throws TypeError\n   */\n  static major(t) {\n    switch (t) {\n      case this.ARRAY: return 4;\n      case this.BOOL: return 7;\n      case this.BREAK: return 7;\n      case this.BYTES: return 2;\n      case this.FLOAT16: return 7;\n      case this.FLOAT32: return 7;\n      case this.FLOAT64: return 7;\n      case this.UINT8: return 0;\n      case this.UINT16: return 0;\n      case this.UINT32: return 0;\n      case this.UINT64: return 0;\n      case this.INT8: return 1;\n      case this.INT16: return 1;\n      case this.INT32: return 1;\n      case this.INT64: return 1;\n      case this.NULL: return 7;\n      case this.OBJECT: return 5;\n      case this.TAGGED: return 6;\n      case this.TEXT: return 3;\n      case this.UNDEFINED: return 7;\n      default: throw new TypeError('Invalid CBOR type');\n    }\n  }\n}\n\nmodule.exports = Types;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/cbor/Types.js\n// module id = 0\n// module chunks = 0","/*\n * Wire\n * Copyright (C) 2016 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\n\n'use strict';\n\n/**\n * @class BaseError\n * @extends Error\n * @param {string} message\n * @returns {string}\n */\nmodule.exports = (function() {\n  const BaseError = function(message) {\n    this.name = this.constructor.name;\n    this.message = message;\n    this.stack = (new Error).stack;\n  };\n\n  BaseError.prototype = new Error;\n  BaseError.prototype.constructor = BaseError;\n\n  return BaseError;\n})();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/cbor/BaseError.js\n// module id = 1\n// module chunks = 0","/*\n * Wire\n * Copyright (C) 2016 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\n\n'use strict';\n\nconst BaseError = require('./BaseError');\n\n/**\n * @class DecodeError\n * @param {string} message\n * @param {*} [extra]\n */\nclass DecodeError extends BaseError {\n  constructor (message, extra) {\n    super(message);\n    this.extra = extra;\n  }\n\n  /** @type {string} */\n  static get INVALID_TYPE () { return 'Invalid type'; }\n\n  /** @type {string} */\n  static get UNEXPECTED_EOF () { return 'Unexpected end-of-buffer'; }\n\n  /** @type {string} */\n  static get UNEXPECTED_TYPE () { return 'Unexpected type'; }\n\n  /** @type {string} */\n  static get INT_OVERFLOW () { return 'Integer overflow'; }\n\n  /** @type {string} */\n  static get TOO_LONG () { return 'Field too long'; }\n\n  /** @type {string} */\n  static get TOO_NESTED () { return 'Object nested too deep'; }\n}\n\nmodule.exports = DecodeError;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/cbor/DecodeError.js\n// module id = 2\n// module chunks = 0","/*\n * Wire\n * Copyright (C) 2016 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\n\n'use strict';\n\nconst DecodeError = require('./DecodeError');\nconst Types = require('./Types');\n\nconst DEFAULT_CONFIG = {\n  max_array_length: 1000,\n  max_bytes_length: 5242880,\n  max_text_length: 5242880,\n  max_object_size: 1000,\n  max_nesting: 16,\n};\n\n/**\n * @class Decoder\n * @param {!ArrayBuffer} buffer\n * @param {Object} [config=DEFAULT_CONFIG] config\n * @returns {Decoder} `this`\n */\nclass Decoder {\n  /**\n   * @callback closureCallback\n   */\n\n  constructor(buffer, config = DEFAULT_CONFIG) {\n    // buffer *must* be an ArrayBuffer\n\n    this.buffer = buffer;\n    this.config = config;\n    this.view = new DataView(this.buffer);\n    return this;\n  }\n\n  /**\n   * @param {!number} x\n   * @param {!number} overflow\n   * @returns {number}\n   * @private\n   * @throws DecodeError\n   */\n  static _check_overflow(x, overflow) {\n    if (x > overflow) {\n      throw new DecodeError(DecodeError.INT_OVERFLOW);\n    }\n    return x;\n  }\n\n  /**\n   * @param {!number} bytes\n   * @returns {void}\n   * @private\n   */\n  _advance(bytes) {\n    this.view = new DataView(this.buffer, (this.view.byteOffset + bytes));\n  }\n\n  /**\n   * @returns {!number}\n   * @private\n   */\n  _available() {\n    return this.view.byteLength;\n  }\n\n  /**\n   * @param {!number} bytes\n   * @param {!closureCallback} closure\n   * @returns {number}\n   * @private\n   * @throws DecodeError\n   */\n  _read(bytes, closure) {\n    if (this._available < bytes) {\n      throw new DecodeError(DecodeError.UNEXPECTED_EOF);\n    }\n\n    const value = closure();\n    this._advance(bytes);\n    return value;\n  }\n\n  /*\n   * reader-like interface for @buffer\n   */\n\n  /**\n   * @returns {number}\n   * @private\n   */\n  _u8() {\n    return this._read(1, () => this.view.getUint8(0));\n  }\n\n  /**\n   * @returns {number}\n   * @private\n   */\n  _u16() {\n    return this._read(2, () => this.view.getUint16(0));\n  }\n\n  /**\n   * @returns {number}\n   * @private\n   */\n  _u32() {\n    return this._read(4, () => this.view.getUint32(0));\n  }\n\n  /**\n   * @returns {number}\n   * @private\n   */\n  _u64() {\n    const r64 = (x) => (this.view.getUint32(0) * Math.pow(2, 32)) + this.view.getUint32(4);\n    return this._read(8, r64);\n  }\n\n  /**\n   * @returns {number}\n   * @private\n   */\n  _f32() {\n    return this._read(4, () => this.view.getFloat32(0));\n  }\n\n  /**\n   * @returns {number}\n   * @private\n   */\n  _f64() {\n    return this._read(8, () => this.view.getFloat64(0));\n  }\n\n  /**\n   * @param {!number} minor\n   * @returns {number}\n   * @private\n   * @throws DecodeError\n   */\n  _read_length(minor) {\n    if ((0 <= minor) && (minor <= 23)) {\n      return minor;\n    }\n\n    switch (minor) {\n      case 24:\n        return this._u8();\n      case 25:\n        return this._u16();\n      case 26:\n        return this._u32();\n      case 27:\n        return Decoder._check_overflow(this._u64(), Number.MAX_SAFE_INTEGER);\n    }\n\n    throw new DecodeError(DecodeError.UNEXPECTED_TYPE);\n  }\n\n  /**\n   * @param {!number} minor\n   * @param {!number} max_len\n   * @returns {number}\n   * @private\n   * @throws DecodeError\n   */\n  _bytes(minor, max_len) {\n    const len = this._read_length(minor);\n    if (len > max_len) {\n      throw new DecodeError(DecodeError.TOO_LONG);\n    }\n\n    return this._read(len, () => this.buffer.slice(this.view.byteOffset, (this.view.byteOffset + len)));\n  }\n\n  /**\n   * @returns {Array<Types|number>}\n   * @private\n   * @throws DecodeError\n   */\n  _read_type_info() {\n    let type = this._u8();\n\n    const major = (type & 0xE0) >> 5;\n    const minor = type & 0x1F;\n\n    switch (major) {\n      case 0:\n        type = (0 <= minor) && (minor <= 24) ? Types.UINT8 : (\n          () => {\n            switch (minor) {\n              case 25:\n                return Types.UINT16;\n              case 26:\n                return Types.UINT32;\n              case 27:\n                return Types.UINT64;\n              default:\n                throw new DecodeError(DecodeError.INVALID_TYPE);\n            }\n          })();\n        return [type, minor];\n\n      case 1:\n        type = (0 <= minor) && (minor <= 24) ? Types.INT8 : (\n          () => {\n            switch (minor) {\n              case 25:\n                return Types.INT16;\n              case 26:\n                return Types.INT32;\n              case 27:\n                return Types.INT64;\n              default:\n                throw new DecodeError(DecodeError.INVALID_TYPE);\n            }\n          })();\n        return [type, minor];\n\n      case 2:\n        return [Types.BYTES, minor];\n      case 3:\n        return [Types.TEXT, minor];\n      case 4:\n        return [Types.ARRAY, minor];\n      case 5:\n        return [Types.OBJECT, minor];\n\n      case 7:\n        switch (minor) {\n          case 20:\n          case 21:\n            return [Types.BOOL, minor];\n          case 22:\n            return [Types.NULL, minor];\n          case 25:\n            return [Types.FLOAT16, minor];\n          case 26:\n            return [Types.FLOAT32, minor];\n          case 27:\n            return [Types.FLOAT64, minor];\n          case 31:\n            return [Types.BREAK, minor];\n        }\n        break;\n    }\n\n    throw new DecodeError(DecodeError.INVALID_TYPE);\n  }\n\n  /**\n   * @param {!(number|Array<number>)} expected\n   * @returns {Array<Types|number>}\n   * @private\n   * @throws DecodeError\n   */\n  _type_info_with_assert(expected) {\n    const [type, minor] = this._read_type_info();\n\n    if (!Array.isArray(expected)) {\n      expected = [expected];\n    }\n\n    if (!expected.some((e) => type === e)) {\n      throw new DecodeError(DecodeError.UNEXPECTED_TYPE, [type, minor]);\n    }\n\n    return [type, minor];\n  }\n\n  /**\n   * @param {Types} type\n   * @param {!number} minor\n   * @returns {number}\n   * @private\n   * @throws DecodeError\n   */\n  _read_unsigned(type, minor) {\n    switch (type) {\n      case Types.UINT8:\n        return (minor <= 23) ? minor : this._u8();\n\n      case Types.UINT16:\n        return this._u16();\n\n      case Types.UINT32:\n        return this._u32();\n\n      case Types.UINT64:\n        return this._u64();\n    }\n\n    throw new DecodeError(DecodeError.UNEXPECTED_TYPE, [type, minor]);\n  }\n\n  /**\n   * @param {!number} overflow\n   * @param {*} type\n   * @param {!number} minor\n   * @returns {number}\n   * @private\n   * @throws DecodeError\n   */\n  _read_signed(overflow, type, minor) {\n    switch (type) {\n      case Types.INT8:\n        if (minor <= 23) {\n          return (-1 - minor);\n        }\n        return (-1 - Decoder._check_overflow(this._u8(), overflow));\n\n      case Types.INT16:\n        return (-1 - Decoder._check_overflow(this._u16(), overflow));\n\n      case Types.INT32:\n        return (-1 - Decoder._check_overflow(this._u32(), overflow));\n\n      case Types.INT64:\n        return (-1 - Decoder._check_overflow(this._u64(), overflow));\n\n      case Types.UINT8:\n      case Types.UINT16:\n      case Types.UINT32:\n      case Types.UINT64:\n        return Decoder._check_overflow(this._read_unsigned(type, minor), overflow);\n    }\n\n    throw new DecodeError(DecodeError.UNEXPECTED_TYPE, [type, minor]);\n  }\n\n\n  /*\n   * public API\n   */\n\n  /** @returns {number} */\n  u8() {\n    return this._read_unsigned(...this._type_info_with_assert([\n      Types.UINT8,\n    ]));\n  }\n\n  /** @returns {number} */\n  u16() {\n    return this._read_unsigned(...this._type_info_with_assert([\n      Types.UINT8,\n      Types.UINT16,\n    ]));\n  }\n\n  /** @returns {number} */\n  u32() {\n    return this._read_unsigned(...this._type_info_with_assert([\n      Types.UINT8,\n      Types.UINT16,\n      Types.UINT32,\n    ]));\n  }\n\n  /** @returns {number} */\n  u64() {\n    return this._read_unsigned(...this._type_info_with_assert([\n      Types.UINT8,\n      Types.UINT16,\n      Types.UINT32,\n      Types.UINT64,\n    ]));\n  }\n\n  /** @returns {number} */\n  i8() {\n    return this._read_signed(127, ...this._type_info_with_assert([\n      Types.INT8,\n      Types.UINT8,\n    ]));\n  }\n\n  /** @returns {number} */\n  i16() {\n    return this._read_signed(32767, ...this._type_info_with_assert([\n      Types.INT8,\n      Types.INT16,\n\n      Types.UINT8,\n      Types.UINT16,\n    ]));\n  }\n\n  /** @returns {number} */\n  i32() {\n    return this._read_signed(2147483647, ...this._type_info_with_assert([\n      Types.INT8,\n      Types.INT16,\n      Types.INT32,\n\n      Types.UINT8,\n      Types.UINT16,\n      Types.UINT32,\n    ]));\n  }\n\n  /** @returns {number} */\n  i64() {\n    return this._read_signed(Number.MAX_SAFE_INTEGER, ...this._type_info_with_assert([\n      Types.INT8,\n      Types.INT16,\n      Types.INT32,\n      Types.INT64,\n\n      Types.UINT8,\n      Types.UINT16,\n      Types.UINT32,\n      Types.UINT64,\n    ]));\n  }\n\n  /** @returns {number} */\n  unsigned() {\n    return this.u64();\n  }\n\n  /** @returns {number} */\n  int() {\n    return this.i64();\n  }\n\n  /** @returns {number} */\n  f16() {\n    this._type_info_with_assert(Types.FLOAT16);\n\n    const half = this._u16();\n    const exp = (half >> 10) & 0x1F;\n    const mant = half & 0x3FF;\n\n    const ldexp = (x, exponent) => x * Math.pow(2, exponent);\n\n    let val;\n    switch (exp) {\n      case 0:\n        val = ldexp(mant, -24);\n        break;\n      case 31:\n        val = (mant === 0) ? Number.POSITIVE_INFINITY : Number.NaN;\n        break;\n      default:\n        val = ldexp(mant + 1024, exp - 25);\n        break;\n    }\n\n    return (half & 0x8000) ? -val : val;\n  }\n\n  /** @returns {number} */\n  f32() {\n    this._type_info_with_assert(Types.FLOAT32);\n    return this._f32();\n  }\n\n  /** @returns {number} */\n  f64() {\n    this._type_info_with_assert(Types.FLOAT64);\n    return this._f64();\n  }\n\n  /**\n   * @returns {boolean}\n   * @throws DecodeError\n   */\n  bool() {\n    const minor = this._type_info_with_assert(Types.BOOL)[1];\n\n    switch (minor) {\n      case 20:\n        return false;\n      case 21:\n        return true;\n      default:\n        throw new DecodeError(DecodeError.UNEXPECTED_TYPE);\n    }\n  }\n\n  /**\n   * @returns {number}\n   * @throws DecodeError\n   */\n  bytes() {\n    const minor = this._type_info_with_assert(Types.BYTES)[1];\n\n    if (minor === 31) {\n      // XXX: handle indefinite encoding\n      throw new DecodeError(DecodeError.UNEXPECTED_TYPE);\n    }\n\n    return this._bytes(minor, this.config['max_bytes_length']);\n  }\n\n  /**\n   * @returns {string}\n   * @throws DecodeError\n   */\n  text() {\n    const minor = this._type_info_with_assert(Types.TEXT)[1];\n\n    if (minor === 31) {\n      // XXX: handle indefinite encoding\n      throw new DecodeError(DecodeError.UNEXPECTED_TYPE);\n    }\n\n    const buf = this._bytes(minor, this.config['max_text_length']);\n    const utf8 = String.fromCharCode(...(new Uint8Array(buf)));\n\n    // http://ecmanaut.blogspot.de/2006/07/encoding-decoding-utf8-in-javascript.html\n    return decodeURIComponent(escape(utf8));\n  }\n\n  /**\n   * @param {!closureCallback} closure\n   * @returns {(closureCallback|null)}\n   * @throws DecodeError\n   */\n  optional(closure) {\n    try {\n      return closure();\n    } catch (error) {\n      if (error instanceof DecodeError && (error.extra[0] === Types.NULL)) {\n        return null;\n      }\n      throw error;\n    }\n  }\n\n  /**\n   * @returns {number}\n   * @throws DecodeError\n   */\n  array() {\n    const minor = this._type_info_with_assert(Types.ARRAY)[1];\n\n    if (minor === 31) {\n      // XXX: handle indefinite encoding\n      throw new DecodeError(DecodeError.UNEXPECTED_TYPE);\n    }\n\n    const len = this._read_length(minor);\n    if (len > this.config['max_array_length']) {\n      throw new DecodeError(DecodeError.TOO_LONG);\n    }\n\n    return len;\n  }\n\n  /**\n   * @returns {number}\n   * @throws DecodeError\n   */\n  object() {\n    const minor = this._type_info_with_assert(Types.OBJECT)[1];\n\n    if (minor === 31) {\n      // XXX: handle indefinite encoding\n      throw new DecodeError(DecodeError.UNEXPECTED_TYPE);\n    }\n\n    const len = this._read_length(minor);\n    if (len > this.config['max_object_size']) {\n      throw new DecodeError(DecodeError.TOO_LONG);\n    }\n\n    return len;\n  }\n\n  /**\n   * @param {*} type\n   * @returns {void}\n   * @private\n   * @throws DecodeError\n   */\n  _skip_until_break(type) {\n    for (;;) {\n      const [t, minor] = this._read_type_info();\n      if (t === Types.BREAK) {\n        return;\n      }\n\n      if ((t !== type) || (minor === 31)) {\n        throw new DecodeError(DecodeError.UNEXPECTED_TYPE);\n      }\n\n      const len = this._read_length(minor);\n      this._advance(len);\n    }\n  }\n\n  /**\n   * @param {!number} level\n   * @returns {boolean}\n   * @private\n   * @throws DecodeError\n   */\n  _skip_value(level) {\n    if (level === 0) {\n      throw new DecodeError(DecodeError.TOO_NESTED);\n    }\n\n    const [type, minor] = this._read_type_info();\n    let len;\n    switch (type) {\n      case Types.UINT8:\n      case Types.UINT16:\n      case Types.UINT32:\n      case Types.UINT64:\n      case Types.INT8:\n      case Types.INT16:\n      case Types.INT32:\n      case Types.INT64:\n        this._read_length(minor);\n        return true;\n\n      case Types.BOOL:\n      case Types.NULL:\n        return true;\n\n      case Types.BREAK:\n        return false;\n\n      case Types.FLOAT16:\n        this._advance(2);\n        return true;\n\n      case Types.FLOAT32:\n        this._advance(4);\n        return true;\n\n      case Types.FLOAT64:\n        this._advance(8);\n        return true;\n\n      case Types.BYTES:\n      case Types.TEXT:\n        if (minor === 31) {\n          this._skip_until_break(type);\n          return true;\n        }\n        len = this._read_length(minor);\n        this._advance(len);\n        return true;\n\n      case Types.ARRAY:\n      case Types.OBJECT:\n        if (minor === 31) {\n          while (this._skip_value(level - 1)) {\n            // do nothing\n          }\n          return true;\n        }\n        len = this._read_length(minor);\n        while (len--) {\n          this._skip_value((level - 1));\n        }\n        return true;\n    }\n  }\n\n  /** @returns {boolean} */\n  skip() {\n    return this._skip_value(this.config['max_nesting']);\n  }\n}\n\nmodule.exports = Decoder;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/cbor/Decoder.js\n// module id = 3\n// module chunks = 0","/*\n * Wire\n * Copyright (C) 2016 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\n\n'use strict';\n\nconst Types = require('./Types');\n\n/**\n * @class Encoder\n * @returns {Encoder} `this`\n */\nclass Encoder {\n  constructor() {\n    this.buffer = new ArrayBuffer(4);\n    this.view = new DataView(this.buffer);\n    return this;\n  }\n\n  /** @returns {ArrayBuffer} */\n  get_buffer() {\n    return this.buffer.slice(0, this.view.byteOffset);\n  }\n\n  /**\n   * @param {!number} need_nbytes\n   * @returns {number}\n   * @private\n   */\n  _new_buffer_length(need_nbytes) {\n    return ~~(Math.max((this.buffer.byteLength * 1.5), (this.buffer.byteLength + need_nbytes)));\n  }\n\n  /**\n   * @param {!number} need_nbytes\n   * @returns {void}\n   * @private\n   */\n  _grow_buffer(need_nbytes) {\n    const new_len = this._new_buffer_length(need_nbytes);\n    const new_buf = new ArrayBuffer(new_len);\n    new Uint8Array(new_buf).set(new Uint8Array(this.buffer));\n    this.buffer = new_buf;\n    this.view = new DataView(this.buffer, this.view.byteOffset);\n  }\n\n  /**\n   * @param {!number} bytes\n   * @returns {void}\n   * @private\n   */\n  _ensure(bytes) {\n    if (!(this.view.byteLength < bytes)) { return; }\n    return this._grow_buffer(bytes);\n  }\n\n  /**\n   * @param {!number} bytes\n   * @returns {void}\n   * @private\n   */\n  _advance(bytes) {\n    this.view = new DataView(this.buffer, (this.view.byteOffset + bytes));\n  }\n\n  /**\n   * @callback closureCallback\n   */\n\n  /**\n   * @param {!number} bytes\n   * @param {!closureCallback} closure\n   * @returns {void}\n   * @private\n   */\n  _write(bytes, closure) {\n    this._ensure(bytes);\n    closure();\n    return this._advance(bytes);\n  }\n\n  /**\n   * @param {Types} type\n   * @param {!number} len\n   * @returns {void}\n   * @private\n   * @throws RangeError\n   */\n  _write_type_and_len(type, len) {\n    const major = (Types.major(type)) << 5;\n\n    if ((0 <= len) && (len <= 23)) {\n      return this._u8(major | len);\n    } else if ((24 <= len) && (len <= 255)) {\n      this._u8(major | 24);\n      return this._u8(len);\n    } else if ((0x100 <= len) && (len <= 0xFFFF)) {\n      this._u8(major | 25);\n      return this._u16(len);\n    } else if ((0x10000 <= len) && (len <= 0xFFFFFFFF)) {\n      this._u8(major | 26);\n      return this._u32(len);\n    } else if (len <= Number.MAX_SAFE_INTEGER) {\n      this._u8(major | 27);\n      return this._u64(len);\n    } else {\n      throw new RangeError('Invalid size for CBOR object');\n    }\n  }\n\n  /*\n   * writer-like interface over our ArrayBuffer\n   */\n\n  /**\n   * @param {!number} x\n   * @returns {void}\n   * @private\n   */\n  _u8(x) {\n    return this._write(1, () => this.view.setUint8(0, x));\n  }\n\n  /**\n   * @param {!number} x\n   * @returns {void}\n   * @private\n   */\n  _u16(x) {\n    return this._write(2, () => this.view.setUint16(0, x));\n  }\n\n  /**\n   * @param {!number} x\n   * @returns {void}\n   * @private\n   */\n  _u32(x) {\n    return this._write(4, () => this.view.setUint32(0, x));\n  }\n\n  /**\n   * @param {!number} x\n   * @returns {void}\n   * @private\n   */\n  _u64(x) {\n    const low = x % Math.pow(2, 32);\n    const high = (x - low) / Math.pow(2, 32);\n    const w64 = () => {\n      this.view.setUint32(0, high);\n      return this.view.setUint32(4, low);\n    };\n    return this._write(8, w64);\n  }\n\n  /**\n   * @param {!number} x\n   * @returns {void}\n   * @private\n   */\n  _f32(x) {\n    return this._write(4, () => this.view.setFloat32(0, x));\n  }\n\n  /**\n   * @param {!number} x\n   * @returns {void}\n   * @private\n   */\n  _f64(x) {\n    return this._write(8, () => this.view.setFloat64(0, x));\n  }\n\n  /**\n   * @param {!Uint8Array} x\n   * @returns {void}\n   * @private\n   */\n  _bytes(x) {\n    const nbytes = x.byteLength;\n\n    this._ensure(nbytes);\n    new Uint8Array(this.buffer, this.view.byteOffset).set(x);\n    return this._advance(nbytes);\n  }\n\n  /*\n   * public API\n   */\n\n  /**\n   * @param {!number} x\n   * @returns {void}\n   * @throws RangeError\n   */\n  u8(x) {\n    if ((0 <= x) && (x <= 23)) {\n      return this._u8(x);\n    } else if ((24 <= x) && (x <= 255)) {\n      this._u8(24);\n      return this._u8(x);\n    } else {\n      throw new RangeError('Invalid u8');\n    }\n  }\n\n  /**\n   * @param {!number} x\n   * @returns {void}\n   * @throws RangeError\n   */\n  u16(x) {\n    if ((0 <= x) && (x <= 23)) {\n      return this._u8(x);\n    } else if ((24 <= x) && (x <= 255)) {\n      this._u8(24);\n      return this._u8(x);\n    } else if ((0x100 <= x) && (x <= 0xFFFF)) {\n      this._u8(25);\n      return this._u16(x);\n    } else {\n      throw new RangeError('Invalid u16');\n    }\n  }\n\n  /**\n   * @param {!number} x\n   * @returns {void}\n   * @throws RangeError\n   */\n  u32(x) {\n    if ((0 <= x) && (x <= 23)) {\n      return this._u8(x);\n    } else if ((24 <= x) && (x <= 255)) {\n      this._u8(24);\n      return this._u8(x);\n    } else if ((0x100 <= x) && (x <= 0xFFFF)) {\n      this._u8(25);\n      return this._u16(x);\n    } else if ((0x10000 <= x) && (x <= 0xFFFFFFFF)) {\n      this._u8(26);\n      return this._u32(x);\n    } else {\n      throw new RangeError('Invalid u32');\n    }\n  }\n\n  /**\n   * @param {!number} x\n   * @returns {void}\n   * @throws RangeError\n   */\n  u64(x) {\n    if ((0 <= x) && (x <= 23)) {\n      return this._u8(x);\n    } else if ((24 <= x) && (x <= 255)) {\n      this._u8(24);\n      return this._u8(x);\n    } else if ((0x100 <= x) && (x <= 0xFFFF)) {\n      this._u8(25);\n      return this._u16(x);\n    } else if ((0x10000 <= x) && (x <= 0xFFFFFFFF)) {\n      this._u8(26);\n      return this._u32(x);\n    } else if (x <= Number.MAX_SAFE_INTEGER) {\n      this._u8(27);\n      return this._u64(x);\n    } else {\n      throw new RangeError('Invalid unsigned integer');\n    }\n  }\n\n  /**\n   * @param {!number} x\n   * @returns {void}\n   * @throws RangeError\n   */\n  i8(x) {\n    if (x >= 0) {\n      return this._u8(x);\n    }\n\n    x = -1 - x;\n    if ((0 <= x) && (x <= 23)) {\n      return this._u8(0x20 | x);\n    } else if ((24 <= x) && (x <= 255)) {\n      this._u8(0x20 | 24);\n      return this._u8(x);\n    } else {\n      throw new RangeError('Invalid i8');\n    }\n  }\n\n  /**\n   * @param {!number} x\n   * @returns {void}\n   * @throws RangeError\n   */\n  i16(x) {\n    if (x >= 0) {\n      return this._u16(x);\n    }\n\n    x = -1 - x;\n    if ((0 <= x) && (x <= 23)) {\n      return this._u8(0x20 | x);\n    } else if ((24 <= x) && (x <= 255)) {\n      this._u8(0x20 | 24);\n      return this._u8(x);\n    } else if ((0x100 <= x) && (x <= 0xFFFF)) {\n      this._u8(0x20 | 25);\n      return this._u16(x);\n    } else {\n      throw new RangeError('Invalid i16');\n    }\n  }\n\n  /**\n   * @param {!number} x\n   * @returns {void}\n   * @throws RangeError\n   */\n  i32(x) {\n    if (x >= 0) {\n      return this._u32(x);\n    }\n\n    x = -1 - x;\n    if ((0 <= x) && (x <= 23)) {\n      return this._u8(0x20 | x);\n    } else if ((24 <= x) && (x <= 255)) {\n      this._u8(0x20 | 24);\n      return this._u8(x);\n    } else if ((0x100 <= x) && (x <= 0xFFFF)) {\n      this._u8(0x20 | 25);\n      return this._u16(x);\n    } else if ((0x10000 <= x) && (x <= 0xFFFFFFFF)) {\n      this._u8(0x20 | 26);\n      return this._u32(x);\n    } else {\n      throw new RangeError('Invalid i32');\n    }\n  }\n\n  /**\n   * @param {!number} x\n   * @returns {void}\n   * @throws RangeError\n   */\n  i64(x) {\n    if (x >= 0) {\n      return this._u64(x);\n    }\n\n    x = -1 - x;\n    if ((0 <= x) && (x <= 23)) {\n      return this._u8(0x20 | x);\n    } else if ((24 <= x) && (x <= 255)) {\n      this._u8(0x20 | 24);\n      return this._u8(x);\n    } else if ((0x100 <= x) && (x <= 0xFFFF)) {\n      this._u8(0x20 | 25);\n      return this._u16(x);\n    } else if ((0x10000 <= x) && (x <= 0xFFFFFFFF)) {\n      this._u8(0x20 | 26);\n      return this._u32(x);\n    } else if (x <= Number.MAX_SAFE_INTEGER) {\n      this._u8(0x20 | 27);\n      return this._u64(x);\n    } else {\n      throw new RangeError('Invalid i64');\n    }\n  }\n\n  /**\n   * @param {!number} x\n   * @returns {void}\n   */\n  f32(x) {\n    this._u8(0xE0 | 26);\n    return this._f32(x);\n  }\n\n  /**\n   * @param {!number} x\n   * @returns {void}\n   */\n  f64(x) {\n    this._u8(0xE0 | 27);\n    return this._f64(x);\n  }\n\n  /**\n   * @param {!number} x\n   * @returns {void}\n   */\n  bool(x) {\n    return this._u8(0xE0 | (x ? 21 : 20));\n  }\n\n  /**\n   * @param {!(ArrayBuffer|Uint8Array)} x\n   * @returns {void}\n   */\n  bytes(x) {\n    this._write_type_and_len(Types.BYTES, x.byteLength);\n    return this._bytes(x);\n  }\n\n  /**\n   * @param {!number} x\n   * @returns {void}\n   */\n  text(x) {\n    // http://ecmanaut.blogspot.de/2006/07/encoding-decoding-utf8-in-javascript.html\n    const utf8 = unescape(encodeURIComponent(x));\n\n    this._write_type_and_len(Types.TEXT, utf8.length);\n    return this._bytes(new Uint8Array(utf8.split('').map((c) => c.charCodeAt(0))));\n  }\n\n  /** @returns {void} */\n  null() {\n    return this._u8(0xE0 | 22);\n  }\n\n  /** @returns {void} */\n  undefined() {\n    return this._u8(0xE0 | 23);\n  }\n\n  /**\n   * @param {!number} len\n   * @returns {void}\n   */\n  array(len) {\n    return this._write_type_and_len(Types.ARRAY, len);\n  }\n\n  /** @returns {void} */\n  array_begin() {\n    return this._u8(0x9F);\n  }\n\n  /** @returns {void} */\n  array_end() {\n    return this._u8(0xFF);\n  }\n\n  /**\n   * @param {!number} len\n   * @returns {void}\n   */\n  object(len) {\n    return this._write_type_and_len(Types.OBJECT, len);\n  }\n\n  /** @returns {void} */\n  object_begin() {\n    return this._u8(0xBF);\n  }\n\n  /** @returns {void} */\n  object_end() {\n    return this._u8(0xFF);\n  }\n}\n\nmodule.exports = Encoder;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/cbor/Encoder.js\n// module id = 4\n// module chunks = 0","/*\n * Wire\n * Copyright (C) 2016 Wire Swiss GmbH\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program. If not, see http://www.gnu.org/licenses/.\n *\n */\n\n'use strict';\n\nmodule.exports = {\n  BaseError:   require('./cbor/BaseError'),\n  DecodeError: require('./cbor/DecodeError'),\n  Decoder:     require('./cbor/Decoder'),\n  Encoder:     require('./cbor/Encoder'),\n  Types:       require('./cbor/Types'),\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/cbor.js\n// module id = 5\n// module chunks = 0"],"sourceRoot":""}